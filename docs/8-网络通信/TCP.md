## TCP

### 三次握手

> 三次握手的目的是建立可靠的通信信道，确保`通信双方的发送与接收是正常的`

* 第一次握手(SYN): `SYN=1, seq=x`
    * Server确认: 对方发送正常、自己接收正常
* 第二次握手(SYN-ACK): `SYN=1, ACK=1, seq=y, ack=x+1`
    * Client确认: 自己发送、接收正常，对方发送、接收正常
* 第三次握手(ACK): `ACK=1, seq=x+1, ack=y+1`
    * Server确认: 自己发送、接收正常，对方发送、接收正常

### 四次挥手

* 客户端关闭: 关闭客户端到服务器的数据传送
    * FIN: `FIN=1, seq=u`
    * ACK: `ACK=1, seq=v, ack=u+1`
* 服务端关闭: 关闭与客户端的连接
    * FIN: `FIN=1, seq=w`
    * ACK: `ACK=1, seq=u+1, ack=w+1`

### 顺序问题/丢包问题

* 顺序问题: 数据包乱序到达，通过序号重新排列(`数据包重组`)
* 丢包问题: 数据包超时或丢失，重传

### 流量控制

* 滑动窗口

#### 滑动窗口

> 通过动态调整发送窗口大小和接收窗口大小来实现流量控制

* 发送窗口
* 接收窗口

### 拥塞控制

> 避免网络拥塞

* 拥塞窗口 + 滑动窗口


[<< 上一篇: HTTP](8-网络通信/HTTP.md)

[>> 下一篇: VRRP](8-网络通信/VRRP.md)
